@inherits LayoutComponentBase

<MudThemeProvider @ref="@_mudThemeProvider" @bind-IsDarkMode="@_isDarkMode" />
<MudPopoverProvider/>
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
	<MudAppBar>
		<MudLink Href="/" Color="Color.Inherit">
			<MudText Typo="Typo.h5">C-Coffee</MudText>
		</MudLink>
		<MudSpacer />
		<MudIconButton Icon="@Icons.Material.Filled.Help" Color="Color.Inherit" Href="/help" />
		<MudIconButton Icon="@Icons.Material.Filled.Info" Color="Color.Inherit" Href="/about" />
	</MudAppBar>
	<MudMainContent>
		<MudContainer Class="mt-5">
			@Body
		</MudContainer>
	</MudMainContent>
</MudLayout>


@code {
	private bool _isDarkMode;
	private MudThemeProvider? _mudThemeProvider;

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if (firstRender && _mudThemeProvider is not null)
		{
			_isDarkMode = await _mudThemeProvider.GetSystemPreference();
			StateHasChanged();
		}
	}
}